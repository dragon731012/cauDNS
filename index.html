<p>Go to chrome://network#general, and find the wifi you are connected to. Press the plus by it, and copy everything inside the box that just showed up. Paste it inside the input on this website.</p>
<input type="text" id="input" placeholder="read the instructions.">
<button onclick="load();">Enable extension killer</button>
<script>
	window.onerror = function(msg, url, linenumber) {
	    alert('Error message: '+msg+'\nURL: '+url+'\nLine Number: '+linenumber);
	    return true;
	}
	
	function getHtml(file){
		return new Promise((resolve) => {
			fetch(file)
		.then((response) => {
		          return response.text();
		        })
			.then((html) => {
		        	resolve(html);
			});
		});
	}

	async function load(){
		var onc={ Type: "UnencryptedConfiguration", NetworkConfigurations: [] };
		var input=document.getElementById("input");
		var network = JSON.parse(input.value);

		let configuration = {
			GUID: network.GUID,
			Metered: document.querySelector("#meteredToggle").checked,
			Name: network.Name,
			Type: "WiFi",
			WiFi: {
				AutoConnect: true,
				SSID: network.Name,
				Security: "None",
			},
			NameServersConfigType:"Static",
			StaticIPConfig:{
				NameServers:["167.86.91.171","0.0.0.0","0.0.0.0","0.0.0.0"]
			},
			ProxySettings:{
				Type:"Direct"
			}
		}
		onc.NetworkConfigurations.push(configuration);
		download(JSON.parse(enableonc),"enable.onc");
	}


	function download(object, fileName) {
		let link = document.createElement("a");
		link.href = URL.createObjectURL(new Blob([JSON.stringify(object)]));
		link.download = fileName;
		link.click().remove();
	}
</script>
